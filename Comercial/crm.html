<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Funil de Vendas</title>
    <link href="https://cdn.lineicons.com/4.0/lineicons.css" rel="stylesheet" />
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Chart.js para o gráfico de funil -->
</head>

<body>
    <div class="container">
        <aside id="sidebar">
            <input type="checkbox" name="" id="toggler">
            <label for="toggler" class="toggle-btn">
                <i class="lni lni-grid-alt"></i>
            </label>
            <ul class="sidebar-nav">
                <li class="sidebar-item">
                    <a href="sac.html" class="sidebar-link">
                        <i class="lni lni-customer"></i>
                        <span>SAC</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="crm.html" class="sidebar-link active">
                        <i class="lni lni-funnel"></i>
                        <span>Funil de Vendas</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="relacionamentos.html" class="sidebar-link">
                        <i class="lni lni-users"></i>
                        <span>Relacionamentos</span>
                    </a>
                </li>
            </ul>
            <div class="sidebar-footer">
                <a href="index.html" class="sidebar-link">
                    <i class="lni lni-exit"></i>
                    <span>Sair</span>
                </a>
            </div>
        </aside>
        <div class="main">
            <div class="dashboard-navbar">
                <div class="financeiro-title-container">
                    <h2 class="financeiro-title">Funil de Vendas</h2>
                </div>
                <form action="#">
                    <div class="nav-search">
                        <input type="text" class="search-query" placeholder="Pesquisar...">
                        <button class="btn" type="button">Pesquisar</button>
                    </div>
                </form>
                <div class="navbar-content">
                    <ul class="main-nav">
                        <li class="user-link">
                            <a href="#">
                                <img src="account.png" alt="Profile" class="avatar">
                            </a>
                            <div class="user-link-dropdown">
                                <a href="#" class="dropdown-item">Perfil</a>
                                <a href="index.html" class="dropdown-item">Sair</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="content">
                <h2>Gráfico do Funil de Vendas</h2>
                <div class="chart-container">
                    <canvas id="funnelChart"></canvas> <!-- Gráfico de funil -->
                </div>

                <h2>Métricas do Funil</h2>
                <div class="dashboard-card">
                    <div class="card">
                        <h6 class="title">Leads Captados</h6>
                        <h6 class="amount">1.200</h6>
                        <div class="badge">
                            <span class="text-success-bg"> +10% </span>
                            <span class="badge-text">Último Mês</span>
                        </div>
                    </div>
                    <div class="card">
                        <h6 class="title">Propostas Enviadas</h6>
                        <h6 class="amount">800</h6>
                        <div class="badge">
                            <span class="text-success-ng"> +5% </span>
                            <span class="badge-text">Último Mês</span>
                        </div>
                    </div>
                    <div class="card">
                        <h6 class="title">Vendas Fechadas</h6>
                        <h6 class="amount">300</h6>
                        <div class="badge">
                            <span class="text-success-bg"> +8% </span>
                            <span class="badge-text">Último Mês</span>
                        </div>
                    </div>
                </div>

                <h2>Estágios do Funil</h2>
                <div style="overflow-x:auto;">
                    <table id="funnelTable">
                        <thead>
                            <tr>
                                <th style="width:20%">Estágio</th>
                                <th style="width:20%">Leads</th>
                                <th style="width:20%">Taxa de Conversão</th>
                                <th style="width:20%">Valor Estimado</th>
                                <th style="width:20%">Ação</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Leads Captados</td>
                                <td>1.200</td>
                                <td>100%</td>
                                <td>R$ 240.000,00</td>
                                <td><a href="#">Detalhes</a></td>
                            </tr>
                            <tr>
                                <td>Qualificados</td>
                                <td>900</td>
                                <td>75%</td>
                                <td>R$ 180.000,00</td>
                                <td><a href="#">Detalhes</a></td>
                            </tr>
                            <tr>
                                <td>Propostas Enviadas</td>
                                <td>800</td>
                                <td>66,67%</td>
                                <td>R$ 160.000,00</td>
                                <td><a href="#">Detalhes</a></td>
                            </tr>
                            <tr>
                                <td>Negociação</td>
                                <td>500</td>
                                <td>41,67%</td>
                                <td>R$ 100.000,00</td>
                                <td><a href="#">Detalhes</a></td>
                            </tr>
                            <tr>
                                <td>Vendas Fechadas</td>
                                <td>300</td>
                                <td>25%</td>
                                <td>R$ 60.000,00</td>
                                <td><a href="#">Detalhes</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <footer>
                <div class="footer-wrap">
                    <p>&copy; 2023 Funil de Vendas</p>
                </div>
            </footer>
        </div>
    </div>

    <script>
        // Configuração do gráfico de funil
        const ctx = document.getElementById('funnelChart').getContext('2d');
        const funnelChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Leads Captados', 'Qualificados', 'Propostas Enviadas', 'Negociação', 'Vendas Fechadas'],
                datasets: [{
                    label: 'Número de Leads',
                    data: [1200, 900, 800, 500, 300],
                    backgroundColor: [
                        '#293b5f',
                        '#3b7ddd',
                        '#5c9ce6',
                        '#8ab4f8',
                        '#b3cde0'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                indexAxis: 'y', // Transforma o gráfico em um funil horizontal
                responsive: true,
                plugins: {
                    legend: {
                        display: false
                    }
                },
                scales: {
                    x: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>
</body>

</html>